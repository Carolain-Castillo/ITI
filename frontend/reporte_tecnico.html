<!-- reporte_tecnico.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Crear Reporte T茅cnico</title>
  
  <link rel="stylesheet" href="css/style_general.css">
  <link rel="stylesheet" href="css/reporte_tecnico.css">

  <!-- Librer铆as para exportar el DOM con el mismo dise帽o -->
  <script defer src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

  <script defer src="js/reporte_tecnico.js"></script>
</head>
<body>
  <div class="reporte-container">

    <!-- Logo CyD -->
    <div class="logo-container" style="text-align:center; margin-bottom:15px;">
      <img src="logo_cyd.png" alt="Logo CyD" style="max-width:150px; height:auto;">
    </div>

    <header class="reporte-header">
      <h2>Reporte T茅cnico</h2>
    </header>

    <!-- novalidate para que las validaciones autom谩ticas no se adelanten -->
    <form class="reporte-grid" action="#" method="post" novalidate>

      <!--Buscador fuera del recuadro -->
      <div class="buscador-activo bloque-colspan">
        <div class="buscador-grid">
          <div class="campo">
            <label for="rt-numero">N掳 de Activo</label>
            <!-- este input es el que marcamos con mensaje si no hay activo seleccionado -->
            <input type="text" id="rt-numero" placeholder="Ej: PC-1234">
          </div>
          <div class="campo campo-buscar">
            <label>&nbsp;</label>
            <button type="button" id="rt-buscar" class="btn-primario btn-buscar">Buscar</button>
          </div>
        </div>
      </div>

      <!-- Bloque: Datos del Activo -->
      <fieldset class="bloque bloque-colspan">
        <legend>Datos del Activo</legend>

        <div class="datos-activo-grid">
          <div class="campo">
            <label for="rt-numero-view">N掳 de Activo</label>
            <input type="text" id="rt-numero-view" readonly>
          </div>
          
          <div class="campo">
            <label for="rt-categoria">Categor铆a</label>
            <input type="text" id="rt-categoria" readonly>
          </div>
          <div class="campo">
            <label for="rt-estado">Estado</label>
            <input type="text" id="rt-estado" readonly>
          </div>

          <div class="campo">
            <label for="rt-remitente">Remitente</label>
            <input type="text" id="rt-remitente" readonly>
          </div>
          <div class="campo">
            <label for="rt-fecha-recepcion">Fecha Recepci贸n TI</label>
            <input type="text" id="rt-fecha-recepcion" readonly>
          </div>

          <div class="campo">
            <label for="rt-ticket">Ticket</label>
            <input type="text" id="rt-ticket" readonly>
          </div>
          <div class="campo">
            <label for="rt-origen">Origen</label>
            <input type="text" id="rt-origen" readonly>
          </div>

          <div class="campo campo-full">
            <label for="rt-caracteristicas">Caracter铆sticas</label>
            <textarea id="rt-caracteristicas" rows="2" readonly></textarea>
          </div>
          <div class="campo campo-full">
            <label for="rt-notas">Notas</label>
            <textarea id="rt-notas" rows="2" readonly></textarea>
          </div>
        </div>
      </fieldset>


      <!--  NUEVO: Bloque Inspecci贸n Visual (solo lectura, autocompletado) -->
      <fieldset class="bloque bloque-colspan">
        <legend>Inspecci贸n Visual</legend>
        <!-- Reuso el layout de evaluacion-grid para no tocar CSS -->
        <div class="evaluacion-grid">
          <label><input type="checkbox" id="iv_carcasa" disabled> Da帽os en Carcasa</label>
          <label><input type="checkbox" id="iv_teclado" disabled> Da帽os en el Teclado</label>
          <label><input type="checkbox" id="iv_pantalla" disabled> Pantalla Rota</label>
          <label><input type="checkbox" id="iv_puertos" disabled> Puertos Da帽ados</label>
          <label><input type="checkbox" id="iv_cargador" disabled> Con Cargador</label>
          <label><input type="checkbox" id="iv_sin_danos" disabled> Sin da帽os visibles</label>
        </div>
        <div class="campo" style="margin-top:10px;">
          <label for="iv_otro">Otro</label>
          <input type="text" id="iv_otro" readonly>
        </div>
      </fieldset>
      



      <!-- Bloque: Evaluaci贸n Inicial -->
      <fieldset class="bloque bloque-colspan">
        <legend>Evaluaci贸n Inicial</legend>
        <div class="evaluacion-grid">
          <label><input type="checkbox"> Enciende</label>
          <label><input type="checkbox"> Inicia Sistema Operativo</label>
          <label><input type="checkbox"> Puertos Funcionales</label>
          <label><input type="checkbox"> Pantalla Funcional</label>

          <label><input type="checkbox"> Bater铆a Funcional</label>
          <label><input type="checkbox"> Audio Funcional</label>
          <label><input type="checkbox"> Teclado Funcional</label>
          <label><input type="checkbox"> Cargador Funcional</label>

          <label><input type="checkbox"> Tiene Tintas</label>
          <label><input type="checkbox"> Cable de Poder</label>
          <label><input type="checkbox"> Cable USB</label>
          <label><input type="checkbox"> Cable VGA/HDMI</label>
        </div>
      </fieldset>

      <!-- Bloque: Preparaci贸n -->
      <fieldset class="bloque bloque-colspan">
        <legend>Preparaci贸n</legend>
        <div class="preparacion-grid">
          <div>
            <label><input type="checkbox"> Instalar SO</label>
            <label><input type="checkbox"> Crear cuenta local CyD</label>
            <label><input type="checkbox"> Instalar Drivers (HP, Lenovo, Dell)</label>
            <label><input type="checkbox"> Actualizaci贸n Firmware y SO</label>
            <label><input type="checkbox"> Instalar Software base CyD</label>
            <label><input type="checkbox"> Crear cuenta de administrador</label>
            <label><input type="checkbox"> Quitar cuenta CyD de administradores</label>
            <label><input type="checkbox"> Agregar CyD a usuarios avanzados/red</label>
          </div>
          <div>
            <label><input type="checkbox"> Diagn贸stico de teclado</label>
            <label><input type="checkbox"> Diagn贸stico de memoria</label>
            <label><input type="checkbox"> Diagn贸stico de placa l贸gica</label>
            <label><input type="checkbox"> Diagn贸stico de procesador</label>
            <label><input type="checkbox"> Puertos funcionan correctamente</label>
            <label><input type="checkbox"> Acondicionamiento de teclado</label>
            <label><input type="checkbox"> Acondicionamiento de pantalla/carcasa</label>
            <label><input type="checkbox"> Acondicionamiento del cargador</label>
          </div>
        </div>
      </fieldset>

      <!-- Bloque: Estado -->
      <fieldset class="bloque bloque-colspan">
        <legend>Estado</legend>
        <div class="estado-grid">
          <label><input type="checkbox" id="estadoDisponible"> Disponible</label>
          <label><input type="checkbox" id="estadoReciclar"> Reciclar</label>
          <label><input type="checkbox" id="estadoPrestamo"> Pr茅stamo</label>
        </div>
      </fieldset>

      <!-- Bloque: Mejora (upgrade) -->
      <fieldset class="bloque bloque-colspan">
        <legend>Mejora (upgrade)</legend>
        <div class="parte-cambiada-grid">
          <label><input type="checkbox" name="parteCambiada" value="no" id="parteNo"> No</label>
          <label><input type="checkbox" name="parteCambiada" value="si" id="parteSi"> S铆</label>
          <div class="campo-parte">
            <label for="detalleParte">Parte cambiada:</label>
            <input type="text" id="detalleParte" name="detalleParte" placeholder="Especificar pieza..." disabled>
          </div>
        </div>
      </fieldset>

      <!-- Bloque: Conclusi贸n -->
      <fieldset class="bloque bloque-colspan">
        <legend>Conclusi贸n y Recomendaciones</legend>
        <div class="campo">
          <!-- sigue marcado como required, pero el form tiene novalidate y lo validamos por JS -->
          <textarea id="conclusion" name="conclusion" rows="4" placeholder="Escriba aqu铆 las conclusiones y recomendaciones del reporte..." required></textarea>
        </div>
      </fieldset>

      <!-- Botones -->
      <div class="botonera bloque-colspan">
        <button type="submit" class="btn-primario">Guardar</button>
        <button type="button" id="rt-exportar-pdf" class="btn-secundario" disabled>Exportar PDF</button>
        <button type="button" class="btn-secundario" onclick="location.href='index.html'">Volver</button>
      </div>
    </form>
  </div>

  <!-- ========================= -->
  <!-- Modal "Reporte Guardado"  -->
  <!-- ========================= -->
  <div id="rt-guardado-modal" class="rt-modal-overlay rt-hidden" aria-hidden="true">
    <div class="rt-modal">
      <div class="rt-modal-header">
        <h3>Reporte Guardado</h3>
        <button class="rt-modal-close" id="rt-guardado-cerrar"></button>
      </div>
      <div class="rt-modal-body">
        <p>El reporte se guard贸 correctamente.</p>
        <div class="rt-modal-actions">
          <button id="rt-guardado-ok" class="btn-primario">Aceptar</button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
